<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start">blog</a></li>
        <li><a href="/about/" rel="home start">about</a></li>
        <li><a href="/atom/" rel="alternate">atom</a></li>
        <li><a href="/rss/" rel="alternate">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2015-12-23">23.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/23/ParseMinVerBash.html" rel="bookmark canonical">Checking minimum version numbers in Bash</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://cube-drone.com/comics/c/version-sacrifice"></a>
<p>I worked on a Bash script today that sets up various pre&shy;req&shy;ui&shy;sites for our build.
We need a recent version of Docker
but our <a class="reference external" href="https://www.atlassian.com/software/bamboo/">Bamboo</a> build agents are running on Ubuntu 14.04,
which has a very old version of Docker.
The script upgrades Docker when it's first run.
The script may be run more than once during the lifetime of the agent,
so the second and subsequent calls should not upgrade Docker.</p>
<p>Basically, I wanted</p>

<pre class="brush: bash">
if $DOCKER_VERSION &lt; 1.9; then upgrade_docker; fi
</pre>

<p>Un&shy;for&shy;tu&shy;nate&shy;ly, it's not that easy in Bash.
Here's what I came up with.</p>

<pre class="brush: bash">
install_latest_docker() {
    if docker --version | python -c "min=[1, 9]; import sys; ↩
v=[int(x) </pre><span>&#8230;<a href="/blog/2015/12/23/ParseMinVerBash.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/23/ParseMinVerBash.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-22">22.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/22/ChristmasCake.html" rel="bookmark canonical">Christmas Cake</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.georgevreilly.com/blog/2007/01/05/ChristmasCake.html"></a>
<a class="reference external image-reference" href="http://www.georgevreilly.com/blog/2007/01/05/ChristmasCake.html"></a>
<p>Last week I made my <a class="reference external" href="http://www.georgevreilly.com/blog/2007/01/05/ChristmasCake.html">Christmas Cake</a>,
a week after I made my <a class="reference external" href="http://www.georgevreilly.com/blog/2015/12/06/ChristmasPudding.html">Christmas Puddings</a>.
Tonight I decorated it with marzipan and royal icing.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/22/ChristmasCake.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-21">21.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/21/IncludingDataFilesInPythonPackages.html" rel="bookmark canonical">Including Data Files in Python Packages</a>
        </h1>
    </header>
    <p>New post at the MetaBrite Dev Blog:
<a class="reference external" href="http://www.metabrite.com/devblog/posts/including-data-files-in-python-packages/">Including Data Files in Python Packages</a></p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/21/IncludingDataFilesInPythonPackages.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-20">20.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/20/ReviewDestinationMorgue.html" rel="bookmark canonical">Review: Destination: Morgue!</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/1400032873/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Des&shy;ti&shy;na&shy;tion: Morgue!</div>
<div class="line">Author: James Ellroy</div>
<div class="line">Rating: $stars(2.5)</div>
<div class="line">Publisher: Vintage</div>
<div class="line">Copyright: 2004</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/1400032873/?tag=georgvreill-20">1400032873</a></div>
<div class="line">Pages: 400</div>
<div class="line">Keywords: true crime, au&shy;to&shy;bi&shy;og&shy;ra&shy;phy</div>
<div class="line">Reading period: November 28–De&shy;cem&shy;ber 20, 2015</div>
</div>
<p>A collection of James Ellroy's articles on crime
and his own past.</p>
<p>I've enjoyed Ellroy in the past but I found this unreadable.
I tried it twice but abandoned it halfway through.
Ellroy's writing is self-indulgent, irritating, grandiose,
and full of tiresome stylistic tics.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/20/ReviewDestinationMorgue.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-19">19.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/19/RestoringTheBarRoom.html" rel="bookmark canonical">Restoring the Bar Room</a>
        </h1>
    </header>
    <p>Aside from a few hours spent at two parties,
we've worked from when we got up until midnight
getting the bar room back in shape.
I spent a couple of hours just washing all the greasy crystal glasses this morning
(not to be confused with last night's <a class="reference external" href="http://www.georgevreilly.com/blog/2015/12/18/BarRoomBooze.html">cleaning the booze bottles</a>).
We sorted through all the cookbooks and set aside about a third of them.
The room is now ready to use again.
Alas, we've moved a pile of stuff tem&shy;porar&shy;i&shy;ly into the spare room,
which will have to be dealt with soon.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/19/RestoringTheBarRoom.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-18">18.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/18/BarRoomBooze.html" rel="bookmark canonical">Bar Room Booze</a>
        </h1>
    </header>
    
<p>As I mentioned <a class="reference external" href="http://www.georgevreilly.com/blog/2015/12/12/PaintingTheBarRoom.html">last week</a>, we started painting our &quot;bar room&quot; blue.
The picture above shows the new color—and why we call this room
the bar room.</p>
<p>The kitchen stove is just on the other side of the doorway,
but the extractor fan is about six feet left of the stove,
over the sink.
The kitchen was remodeled and expanded in the 1960s;
I believe the original stove was under the extractor fan.
One con&shy;se&shy;quence of this is that, over time,
bottles and glassware in the bar room become greasy.</p>
<p>I cleaned all the bottles tonight.
Some of them needed it quite badly.</p>
<p>We have a sizeable collection of liquor and liqueurs,
but <span>&#8230;<a href="/blog/2015/12/18/BarRoomBooze.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/18/BarRoomBooze.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-17">17.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/17/NoSpoilersStarWars.html" rel="bookmark canonical">No Spoilers for Star Wars</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://www.facebook.com/berkeleybreathed/"></a>
<p>I can't decide whether I should be amused or ex&shy;as&shy;per&shy;at&shy;ed
by all the cries of NO SPOILERS! NO SPOILERS!
for Star Wars: The Force Turns Over in Bed and Goes Back To Sleep.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/17/NoSpoilersStarWars.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-16">16.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/16/ReviewSaxonTales.html" rel="bookmark canonical">Review: The Saxon Tales by Bernard Cornwell</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0060887184/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: The Last Kingdom</div>
<div class="line">Book: 1</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2004</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0060887184/?tag=georgvreill-20">0060887184</a></div>
<div class="line">Pages: 368</div>
<div class="line">Keywords: historical fiction</div>
<div class="line">Reading period: 9–17 November, 2015</div>
</div>
<a class="reference external image-reference" href="http://www.amazon.com/dp/0061144835/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: The Pale Horseman</div>
<div class="line">Book: 2</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2005</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0061144835/?tag=georgvreill-20">0061144835</a></div>
<div class="line">Pages: 384</div>
<div class="line">Keywords: historical fiction</div>
<div class="line">Reading period: 18–20 November, 2015</div>
</div>
<a class="reference external image-reference" href="http://www.amazon.com/dp/0061149047/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: The Lords of the North</div>
<div class="line">Book: 3</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2006</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0061149047/?tag=georgvreill-20">0061149047</a></div>
<div class="line">Pages: 332</div>
<div class="line">Keywords: historical fiction</div>
<div class="line">Reading period: 21–23 November, 2015</div>
</div>
<a class="reference external image-reference" href="http://www.amazon.com/dp/0061379743/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Sword Song: The Battle for London</div>
<div class="line">Book: 4</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2007</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0061379743/?tag=georgvreill-20">0061379743</a></div>
<div class="line">Pages: 368</div>
<div class="line">Keywords: historical fiction</div>
<div class="line">Reading period: 24–26 November, 2015</div>
</div>
<a class="reference external image-reference" href="http://www.amazon.com/dp/0061379743/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: The Burning Land</div>
<div class="line">Book: 5</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2009</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0061379743/?tag=georgvreill-20">0061379743</a></div>
<div class="line">Pages: 345</div>
<div class="line">Keywords: historical fiction</div>
<div class="line">Reading period: 26–28 November, 2015</div>
</div>
<a class="reference external image-reference" href="http://www.amazon.com/dp/0061969664/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Death of Kings</div>
<div class="line">Book: 6</div>
<div class="line">Author: Bernard Cornwell</div>
<div class="line">Rating: $stars(4)</div>
<div class="line">Publisher: Harper</div>
<div class="line">Copyright: 2011</div>
<div class="line">ISBN: <span>&#8230;<a href="/blog/2015/12/16/ReviewSaxonTales.html" class="continue">continue</a>.</span></div></div>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/16/ReviewSaxonTales.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-15">15.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/15/PythonFStrings.html" rel="bookmark canonical">Python f-strings</a>
        </h1>
    </header>
    <p>At this month's <a class="reference external" href="http://www.meetup.com/PSPPython/">PuPPy (Puget Sound Pro&shy;gram&shy;ming Python) Meetup</a>,
I heard a brief mention of <a class="reference external" href="https://www.python.org/dev/peps/pep-0498/">Python f-strings</a>
as a new feature coming in Python 3.6.</p>
<p>In essence, they offer a simpler, more versatile method
of string formatting and in&shy;ter&shy;po&shy;la&shy;tion
over existing methods.
F-strings can include not only symbol names
but Python <em>ex&shy;pres&shy;sions</em> within strings.
With <a class="reference external" href="https://docs.python.org/3/library/string.html#formatstrings">str.format</a>, you can write
<tt class="docutils literal">'Hello, <span class="pre">{name}'.format(name=some_name)</span></tt>.
You can control various aspects of how <tt class="docutils literal">name</tt> is formatted,
such as being centered within a field—see <a class="reference external" href="https://pyformat.info/">PyFormat</a> and <a class="reference external" href="https://mkaz.github.io/2012/10/10/python-string-format/">Python String Format Cookbook</a>
for ex&shy;am&shy;ples—but no more complex expression is allowed between the braces.</p>
<p>Herewith some examples of f-string ex&shy;pres&shy;sions
drawn from <a class="reference external" href="https://www.python.org/dev/peps/pep-0498/">PEP 0498</a>:</p>

<pre class="brush: python">
>>> date = datetime.date(1991, 10, 12)
>>> f'{date} was on a </pre><span>&#8230;<a href="/blog/2015/12/15/PythonFStrings.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/15/PythonFStrings.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2015-12-14">14.12.2015, 00:00</time>
        <h1>
            <a href="/blog/2015/12/14/DarkChocolateGelatoButtermilkMilkshakes.html" rel="bookmark canonical">Dark Chocolate Gelato-Buttermilk Milkshakes</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.goodfoodstories.com/chocolate-buttermilk-milkshakes/"></a>
<p>For the CookBrite holiday party this evening,
we selected recipes from the CookBrite app
and cooked them for each other.</p>
<p>We had a lot of good food.
I par&shy;tic&shy;u&shy;lar&shy;ly enjoyed making and drinking these milkshakes.</p>
<div class="section" id="ingredients">
<h2>In&shy;gre&shy;di&shy;ents</h2>
<ul class="simple">
<li>1 pint Chocolate Gelato</li>
<li>2 oz Bit&shy;ter&shy;sweet Chocolate</li>
<li>1½ cup Buttermilk</li>
</ul>
</div>
<div class="section" id="instructions">
<h2>In&shy;struc&shy;tions</h2>
<ul class="simple">
<li>Remove the gelato from the freezer to soften.</li>
<li>Melt the chocolate in the microwave or in a small saucepan over low heat.</li>
<li>Let the chocolate cool.</li>
<li>In a blender, combine the gelato and buttermilk until thick and creamy.</li>
<li>With the motor running, slowly pour the melted chocolate into the gelato-buttermilk mixture.</li>
<li>Divide the milkshakes among individual glasses and serve im&shy;me&shy;di&shy;ate&shy;ly.</li>
</ul>
<p>Cooking time: 12 minutes</p>
<p>Adapted from <em>Twenty-Dollar, Twenty-Minute Meals</em>, <span>&#8230;<a href="/blog/2015/12/14/DarkChocolateGelatoButtermilkMilkshakes.html" class="continue">continue</a>.</span></p></div>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2015/12/14/DarkChocolateGelatoButtermilkMilkshakes.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
    
        <a href="/blog/page/17/" class="page floatright">
        Previous &raquo;
        </a>
    
    
        <a href="/blog/page/15/" class="page floatleft">
        &laquo; Next
        </a>
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/" rel="copyright license">
        <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'georgevreilly'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                 /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
        

  </footer>
</body>
</html>