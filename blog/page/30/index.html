<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link media="all" href="/pygments.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start" title="George's full blog">blog</a></li>
        <li><a href="/til/" rel="home start" title="Today George Learned">TIL</a></li>
        <li><a href="/about/" rel="home start" title="About George">about</a></li>
        <li><a href="/atom/" rel="alternate" title="Atom Feed">atom</a></li>
        <li><a href="/rss/" rel="alternate" title="RSS Feed">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
        <li><a href="/tags/" rel="contents">tags</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2016-01-22">2016-01-22</time>
        <h1>
            <a href="/blog/2016/01/22/PythonRecursiveGenerators.html" rel="bookmark canonical">Recursive Generators in Python 2 and 3</a>
        </h1>
    </header>
    <p></p>
<blockquote>
<p>Generators decouple iteration from the code
that uses the results of the&nbsp;iteration.</p>
<p class="attribution">&mdash;David Beazley, <a class="reference external" href="https://www.dabeaz.com/generators/">Generators</a></p>
</blockquote>
<blockquote>
[Pre&shy;vi&shy;ous&shy;ly published at the now defunct <a class="reference external" href="https://web.archive.org/web/20171001220321/http://devblog.metabrite.com/">MetaBrite Dev Blog</a>.]</blockquote>
<p>Python generators have a <a class="reference external" href="https://www.dabeaz.com/generators/">variety of uses</a>.
One such is to lazily evaluate sequences.
Another is for <a class="reference external" href="https://www.dabeaz.com/coroutines/">coroutines</a>.
Yet another is to re&shy;cur&shy;sive&shy;ly traverse a tree or a graph,
yielding an iterable&nbsp;sequence.</p>
<p>Consider this simple tree of&nbsp;nodes:</p>
<pre class="code python literal-block">
<span class="n">node_tree</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
    <span class="s1">'a'</span><span class="p">,</span> <span class="p">[</span>
        <span class="n">Node</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="p">[</span>
            <span class="n">Node</span><span class="p">(</span><span class="s1">'e'</span><span class="p">,</span> <span class="p">[</span>
                <span class="n">Node</span><span class="p">(</span><span class="s1">'g'</span><span class="p">)</span>
    </pre><span>&#8230;<a href="/blog/2016/01/22/PythonRecursiveGenerators.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/22/PythonRecursiveGenerators.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/python/" rel="tag">python</a>,
                <a href="/tag/metabrite/" rel="tag">metabrite</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-21">2016-01-21</time>
        <h1>
            <a href="/blog/2016/01/21/ReviewTheBlackEyedBlonde.html" rel="bookmark canonical">Review: The Black-Eyed Blonde</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://www.amazon.com/dp/1250062128/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: The Black-Eyed Blonde</div>
<div class="line">Author: Benjamin Black</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Picador</div>
<div class="line">Copyright: 2014</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="https://www.amazon.com/dp/1250062128/?tag=georgvreill-20">1250062128</a></div>
<div class="line">Pages: 304</div>
<div class="line">Keywords: mystery</div>
<div class="line">Reading period: 12–16 January, 2016</div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Benjamin_Black">Benjamin Black</a> (the mystery-writing pseudonym of Irish novelist, John Banville)
channels <a class="reference external" href="https://en.wikipedia.org/wiki/Raymond_Chandler">Raymond Chandler</a> as he writes a <a class="reference external" href="https://en.wikipedia.org/wiki/Philip_Marlowe">Philip Marlowe</a> novel.
Robert Parker wrote a couple of books about a quarter-century ago
with the approval of the Chandler estate.
Black&#8217;s book is also&nbsp;authorized.</p>
<p>The book has all the familiar elements of a Marlowe novel:
the femme fatale of the title,
the idle rich,
ungrateful offspring and murderous staff,
cynical cops,
the baking heat of California,
beatings and booze,
Marlowe cracking wise,
and the trademark Chan&shy;dleresque&nbsp;similes.</p>
<p>If you like Chandler,
you&#8217;ll probably like Black&#8217;s con&shy;tri&shy;bu&shy;tion to the&nbsp;canon.</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/21/ReviewTheBlackEyedBlonde.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>,
                <a href="/tag/mystery/" rel="tag">mystery</a>
                    and
                    
                <a href="/tag/history/" rel="tag">history</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-20">2016-01-20</time>
        <h1>
            <a href="/blog/2016/01/20/MixedUpCanadianDateFormats.html" rel="bookmark canonical">Mixed-Up Canadian Date Formats</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.cbc.ca/news/canada/proposed-legislation-aims-to-settle-date-debate-1.3407640"></a>
<p>Apparently, there&#8217;s <a class="reference external" href="http://www.cbc.ca/news/canada/proposed-legislation-aims-to-settle-date-debate-1.3407640">no standard for writing dates</a> in Canada.
I assumed that Canada used the annoying <span class="caps">US</span>-style convention of <span class="caps">MM</span>/<span class="caps">DD</span>/<span class="caps">YYYY</span>.
I didn&#8217;t realize that the British-style <span class="caps">DD</span>/<span class="caps">MM</span>/<span class="caps">YYYY</span> is also widespread.
How&nbsp;ex&shy;as&shy;per&shy;at&shy;ing!</p>
<p>Personally, I always write <span class="caps">YYYY</span>-<span class="caps">MM</span>-<span class="caps">DD</span> whenever I can get away with it,
as God and <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601"><span class="caps">ISO</span> 8601</a> intended.
A bill is before the Canadian parliament aiming at stan&shy;dard&shy;iz&shy;ing on year-month-day&nbsp;formats.</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/20/MixedUpCanadianDateFormats.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/canada/" rel="tag">canada</a>
                    and
                    
                <a href="/tag/tech/" rel="tag">tech</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-19">2016-01-19</time>
        <h1>
            <a href="/blog/2016/01/19/PsqlCouldNotConnectToServer.html" rel="bookmark canonical">psql: could not connect to server</a>
        </h1>
    </header>
    <p>I wanted to clean out my local PostgreSQL database today
so that I could restore a database dump taken on another system,
but every time I ran the <a class="reference external" href="http://postgresguide.com/utilities/psql.html">psql</a> utility, I&nbsp;got:</p>
<pre class="literal-block">
psql: could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket &quot;/tmp/.s.PGSQL.5432&quot;?
</pre>
<p>I tried various things, including restarting Postgres several times,
but nothing helped.
Eventually, I thought to look in <tt class="docutils literal">/usr/local/var/postgres/server.log</tt>,
where I saw several error messages indicating that Postgres 9.5
couldn&#8217;t read data files created with 9.4.
At that point, I realized that during my most recent <tt class="docutils literal">brew update; <span>&#8230;<a href="/blog/2016/01/19/PsqlCouldNotConnectToServer.html" class="continue">continue</a>.</span></tt></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/19/PsqlCouldNotConnectToServer.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/postgres/" rel="tag">postgres</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-18">2016-01-18</time>
        <h1>
            <a href="/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html" rel="bookmark canonical">Federal Holidays Inadequately Observed</a>
        </h1>
    </header>
    <p>Today is Martin Luther King Day,
a day that honors the legacy of a great American.
It&#8217;s a Federal Holiday, but <a class="reference external" href="http://www.cleveland.com/business/index.ssf/2015/01/only_37_of_employers_give_off.html">only 37% of employers give off Martin Luther King Day</a>.
Apparently, 37% is an all-time high for <span class="caps">MLK</span> Day
and it&#8217;s also higher than the other three holidays
that most Americans don&#8217;t get,
Presidents&#8217; Day, Columbus Day [sic], and Veterans&#8217;&nbsp;Day.</p>
<p>I&#8217;ve worked in America for a quarter century,
but it was only at the first job,
when I was a Brown University employee,
that I got those secondary Federal holidays&nbsp;off.</p>
<p>Not only is America one of the least-generous countries for vacation days,
it&#8217;s also one of the least generous for holidays.
American <span>&#8230;<a href="/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/usa/" rel="tag">usa</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-17">2016-01-17</time>
        <h1>
            <a href="/blog/2016/01/17/RelativeImportsInAPythonScript.html" rel="bookmark canonical">Relative Imports in a Python Script</a>
        </h1>
    </header>
    <p>Have you ever attempted a <a class="reference external" href="https://www.python.org/dev/peps/pep-0328/">relative import</a> in a Python&nbsp;script?</p>
<pre class="code bash literal-block">
$ ./foo/bar/script.py some parameters
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">&quot;foo/bar/script.py&quot;</span>, line <span class="m">16</span>, <span class="k">in</span> &lt;module&gt;
    from .quux import find_vcs
ValueError: Attempted relative import <span class="k">in</span> non-package
</pre>
<p>I prefer to use <a class="reference external" href="https://www.python.org/dev/peps/pep-0328/">absolute imports</a> to minimize ambiguity and confusion,
and most of my Python modules begin&nbsp;with:</p>
<pre class="code python literal-block">
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">unicode_literals</span><span class="p">,</span> <span class="n">print_function</span>
</pre>
<p>(Using <a class="reference external" href="https://www.python.org/dev/peps/pep-3112/">uni&shy;code_lit&shy;er&shy;als</a> and <a class="reference external" href="https://www.python.org/dev/peps/pep-3105/">print&shy;_&shy;func&shy;tion</a> makes porting to Python 3&nbsp;easier.)</p>
<p>I recently read the accepted answer to <a class="reference external" href="http://stackoverflow.com/questions/14132789/python-relative-imports-for-the-billionth-time">Python relative imports for the billionth time</a>
and the solution to the above <tt class="docutils literal">ValueError</tt> occurred to me:
Use <tt class="docutils literal">python <span class="pre">-m</span> package</tt> instead:</p>
<pre class="code bash literal-block">
$ python -m foo.bar.script some parameters
</pre>
<p>(Assuming that package <tt class="docutils literal">foo</tt> exists.)</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/17/RelativeImportsInAPythonScript.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/python/" rel="tag">python</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-16">2016-01-16</time>
        <h1>
            <a href="/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html" rel="bookmark canonical">Installing Python 2.7.11 on Ubuntu</a>
        </h1>
    </header>
    <p>We deploy on Ubuntu 14.04, the most recent Long Term Support release.
It comes with Python 2.7.6,
but we need Python 2.7.9+ to get the some important <span class="caps">SSL</span> fixes
and work with a recent version of the <a class="reference external" href="http://docs.python-requests.org/en/latest/">Requests</a>&nbsp;library.</p>
<p>Felix Krull maintains a Personal Package Archive for <a class="reference external" href="https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes-python2.7">Python 2.7 Updates</a>,
which makes it straight&shy;for&shy;ward to upgrade to Python 2.7.11
on supported versions of&nbsp;Ubuntu.</p>
<pre class="code bash literal-block">
sudo apt-add-repository ppa:fkrull/deadsnakes-python2.7
sudo apt-get update
sudo apt-get install python2.7 python2.7-dev
</pre>
<p>Be sure not to use Felix Krull&#8217;s <a class="reference external" href="https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes">other Python <span class="caps">PPA</span></a> by mistake.
I did that on a colleague&#8217;s machine yesterday.
In our attempts to figure out why we still had Python 2.7.6,
we managed to mess up the machine suf&shy;fi&shy;cient&shy;ly
that <span>&#8230;<a href="/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/python/" rel="tag">python</a>,
                <a href="/tag/linux/" rel="tag">linux</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-15">2016-01-15</time>
        <h1>
            <a href="/blog/2016/01/15/DVINotConsideredEqual.html" rel="bookmark canonical">DVI Not Considered Equal</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface"></a>
<p>We got a new monitor today for one of our <a class="reference external" href="http://www.metabrite.com/devblog/posts/pairing-git/">pairing work&shy;sta&shy;tions</a>.
At 2560x1600, it was higher resolution than its pre&shy;de&shy;ces&shy;sor.
I dis&shy;con&shy;nect&shy;ed the <a class="reference external" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface"><span class="caps">DVI</span></a> cable from the old monitor,
leaving it connected to one of the video ports on the computer,
and connected it to the new monitor.
All I could see was static and noise on the screen.
After trying a variety of other things,
I eventually thought to use the <span class="caps">DVI</span> cable that came with the new monitor.
It&nbsp;worked!</p>
<p>I had assumed that all <span class="caps">DVI</span> cables were in&shy;ter&shy;change&shy;able.
Reading the <a class="reference external" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface">Wikipedia article</a>, I see that at higher res&shy;o&shy;lu&shy;tions,
<em>dual link</em> is needed.
I hadn&#8217;t known such a thing&nbsp;existed.</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/15/DVINotConsideredEqual.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/tech/" rel="tag">tech</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-14">2016-01-14</time>
        <h1>
            <a href="/blog/2016/01/14/PythonBaseClassOrder.html" rel="bookmark canonical">Python Base Class Order</a>
        </h1>
    </header>
    <p>When I declare a derived class that inherits
from both a base class and some mixins,
I am always tempted to&nbsp;write:</p>
<pre class="code python literal-block">
<span class="k">class</span> <span class="nc">Derived</span><span class="p">(</span><span class="n">Base</span><span class="p">,</span> <span class="n">Mixin1</span><span class="p">,</span> <span class="n">Mixin2</span><span class="p">):</span>
    <span class="s2">&quot;Some class&quot;</span>
</pre>
<p>My reasoning is that <tt class="docutils literal">Derived</tt> is a <tt class="docutils literal">Base</tt>
with some <tt class="docutils literal">Mixin1</tt> and <tt class="docutils literal">Mixin2</tt> goodness sprinkled on.
Generally, that&#8217;s fine.
The exception is when I want one of the mixins to override
a method or attribute that&#8217;s defined in <tt class="docutils literal">Base</tt>.
Because the <a class="reference external" href="http://python-history.blogspot.com/2010/06/method-resolution-order.html">Method Resolution Order</a> is left-to-right,
then <tt class="docutils literal">Base</tt>’s im&shy;ple&shy;men&shy;ta&shy;tion will always be found&nbsp;first.</p>
<p>To get the desired behavior of the mixin overriding the base,
<tt class="docutils literal">Base</tt> should always appear <em>last</em> in the in&shy;her&shy;i&shy;tance&nbsp;list.</p>
<pre class="code python literal-block">
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>

<span class="k">class</span> <span class="nc">Useful</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
 </pre><span>&#8230;<a href="/blog/2016/01/14/PythonBaseClassOrder.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/14/PythonBaseClassOrder.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/python/" rel="tag">python</a>
                    and
                    
                <a href="/tag/til/" rel="tag">til</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-13">2016-01-13</time>
        <h1>
            <a href="/blog/2016/01/13/ReviewStarDoc.html" rel="bookmark canonical">Review: Star Doc</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://www.amazon.com/dp/0451457730/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Star Doc</div>
<div class="line">Author: <span class="caps">S.L.</span> Viehl</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Roc</div>
<div class="line">Copyright: 2000</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="https://www.amazon.com/dp/0451457730/?tag=georgvreill-20">0451457730</a></div>
<div class="line">Pages: 400</div>
<div class="line">Keywords: <span class="caps">SF</span></div>
<div class="line">Reading period: 11–12 January, 2016</div>
</div>
<p>Dr. Cherijo Grey Veil flees Earth to the remote planet of Kevarzanga-2,
seeking to get away from her dom&shy;i&shy;neer&shy;ing father
and the xenophobic Terrans.
She finds in&shy;ter&shy;est&shy;ing challenges and romance
working with a variety of alien species at the FreeClinic.
Then a plague strikes that kills thousands.
When that&#8217;s resolved, the news comes that her father really, really wants her back,
and is bringing enormous resources to make that&nbsp;happen.</p>
<p>I didn&#8217;t like the book at first, but it grew on me as I read more of it
and I got caught up <span>&#8230;<a href="/blog/2016/01/13/ReviewStarDoc.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2016/01/13/ReviewStarDoc.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>
                    and
                    
                <a href="/tag/sf/" rel="tag">sf</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
    
        <a href="/blog/page/31/" class="page floatright">
        Previous &raquo;
        </a>
    
    
        <a href="/blog/page/29/" class="page floatleft">
        &laquo; Next
        </a>
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="copyright license">
        <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'georgevreilly'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                 /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
        

  </footer>
</body>
</html>
