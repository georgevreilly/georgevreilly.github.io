<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start">blog</a></li>
        <li><a href="/about/" rel="home start">about</a></li>
        <li><a href="/atom/" rel="alternate">atom</a></li>
        <li><a href="/rss/" rel="alternate">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2016-07-13">13.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/13/DisablingVibratingNotificationsInFacebookAndroidApp.html" rel="bookmark canonical">Disabling Vibrating Notifications in the Facebook Android App</a>
        </h1>
    </header>
    <p>I've had to figure this out twice in recent months,
and it was no easier the second time than the first.</p>
<p>If you reinstall the Facebook app on Android,
you will be plagued by the phone buzzing every few minutes
to notify you that someone posted something.</p>
<p>The relevant setting is buried deeply.</p>
<ul class="simple">
<li>Open the Facebook app</li>
<li>Click the gray-on-white hamburger icon. Top right, second row.</li>
<li>Scroll all the way down to App Settings. Click.</li>
<li>Click No&shy;ti&shy;fi&shy;ca&shy;tions. It's <em>not</em> obvious that it's clickable.</li>
<li>Change the Vibrate setting to OFF</li>
<li>Curse Facebook.</li>
</ul>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/13/DisablingVibratingNotificationsInFacebookAndroidApp.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-12">12.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/12/PythonJoiningUrlsWithPosixpathJoin.html" rel="bookmark canonical">Python: Joining URLs with posixpath.join</a>
        </h1>
    </header>
    <p>On Mac/Linux, <a class="reference external" href="https://docs.python.org/2/library/os.path.html#os.path.join">os.path.join</a> is an alias for <tt class="docutils literal">posixpath.join</tt>,
which always joins path segments with <tt class="docutils literal">/</tt>.
On Windows, <tt class="docutils literal">os.path.join</tt> is an alias for <tt class="docutils literal">ntpath.join</tt>,
which always uses <tt class="docutils literal">\</tt>.
When dealing with URLs, we always want forward slashes,
regardless of platform, so <tt class="docutils literal">posixpath.join</tt> should be used to build URL paths.</p>
<p>Running:</p>

<pre class="brush: python">
from __future__ import print_function

from six.moves.urllib_parse import urljoin as abs_urljoin
from posixpath import join as path_urljoin

def urljoin(site, path):
    return abs_urljoin(site, path)

def test_join(site, path):
    result = urljoin(site, path)
    print("'{0}' + '{1}'\n\t-> '{2}'".format(site, path, result))
    return result

local_path = path_urljoin('2016', '07', '12', 'release', 'index.html')

test_join('https://www.example.com', 'foo/bar/quux.js')
test_join('https://www.example.com', local_path)
test_join('https://www.example.com/', local_path)
test_join('https://www.example.com/prefix', local_path)
</pre>

<p>Yields:</p>
<pre class="literal-block">
'https://www.example.com' + 'foo/bar/quux.js'
  </pre><span>&#8230;<a href="/blog/2016/07/12/PythonJoiningUrlsWithPosixpathJoin.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/12/PythonJoiningUrlsWithPosixpathJoin.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-11">11.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/11/LoggingInPythonDontUseNew-FangledFormat.html" rel="bookmark canonical">Logging in Python: Don't use new-fangled format</a>
        </h1>
    </header>
    <p>Python 2.6 introduced the <a class="reference external" href="https://pyformat.info/">format method</a> to strings.
In general, <tt class="docutils literal">format</tt> is now the preferred way to build strings
instead of the old <tt class="docutils literal">%</tt> formatting operator.</p>
<p>One exception is with the <tt class="docutils literal">logging</tt> module,
where the best practice is to use <tt class="docutils literal">%s</tt> and <tt class="docutils literal">%d</tt>.
Why?
First, <tt class="docutils literal">%s</tt> is the idiomatic way to use <tt class="docutils literal">logging</tt>,
which was built years before <tt class="docutils literal">format</tt> was introduced.
Second, if there's a literal <tt class="docutils literal">%</tt> in the in&shy;ter&shy;po&shy;lat&shy;ed values,
<tt class="docutils literal">logging</tt> will be unhappy,
since there won't be cor&shy;re&shy;spond&shy;ing arguments in the call.
It won't fall over, since
“The logging package is designed to swallow exceptions which occur while logging in production.
This is so that errors which occur while handling logging <span>&#8230;<a href="/blog/2016/07/11/LoggingInPythonDontUseNew-FangledFormat.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/11/LoggingInPythonDontUseNew-FangledFormat.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-10">10.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/10/ReviewFlashmanAndTheMountainOfLight.html" rel="bookmark canonical">Review: Flashman and the Mountain of Light</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0452267854/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Flashman and the Mountain of Light</div>
<div class="line">Author: George MacDonald Fraser</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Plume</div>
<div class="line">Copyright: 1990</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0452267854/?tag=georgvreill-20">0452267854</a></div>
<div class="line">Pages: 368</div>
<div class="line">Keywords: historical fiction, humor</div>
<div class="line">Reading period: 29 June–10 July, 2016</div>
<div class="line"><a class="reference external" href="https://en.wikipedia.org/wiki/The_Flashman_Papers">Flashman Papers</a> IX: 1845–46</div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Flashman_and_the_Mountain_of_Light">Flashman and the Mountain of Light</a> takes place just after <a class="reference external" href="/blog/2016/07/05/ReviewFlashmansLady.html">Flashman's Lady</a>,
and it also falls between the two parts of <a class="reference external" href="/blog/2016/06/26/ReviewRoyalFlash.html">Royal Flash</a>,
making it the fourth book chrono&shy;log&shy;i&shy;cal&shy;ly of the <a class="reference external" href="https://en.wikipedia.org/wiki/The_Flashman_Papers">Flashman Papers</a>
and the ninth book published.</p>
<p>In the prologue,
our hero finds himself telling Queen Victoria
a much-edited version of how he came to acquire the <a class="reference external" href="https://en.wikipedia.org/wiki/Koh-i-Noor">Koh-i-Noor</a> diamond
on the crown's behalf forty years earlier during the
<a class="reference external" href="https://en.wikipedia.org/wiki/First_Anglo-Sikh_War">First Anglo-Sikh War</a>.
The <em>actual</em> story—at least according to Flashman and Fraser—is <span>&#8230;<a href="/blog/2016/07/10/ReviewFlashmanAndTheMountainOfLight.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/10/ReviewFlashmanAndTheMountainOfLight.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-09">09.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/09/BlackLivesMatterAltonPhilandoAndDallas.html" rel="bookmark canonical">Black Lives Matter: Alton, Philando, and Dallas</a>
        </h1>
    </header>
    <p>What an awful week for race relations in the United States of America.
On Monday night, Alton Sterling was shot and killed by Baton Rouge police.
One night later, Philando Castile was shot and killed by police in Minnesota.
Both men were black and neither was resisting arrest.
Both shootings were caught on video, which inflamed passions.
On Thursday night at a peaceful rally in Dallas protesting police violence,
two snipers killed five police officers and wounded seven others.
Micah Johnson was later killed by police in a standoff;
three others were arrested.</p>
<p>The police should not have killed Alton Sterling or Philando Castile—or Tamir Rice or Freddie Gray <span>&#8230;<a href="/blog/2016/07/09/BlackLivesMatterAltonPhilandoAndDallas.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/09/BlackLivesMatterAltonPhilandoAndDallas.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-08">08.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/08/TeatroZinzanni.html" rel="bookmark canonical">Teatro Zinzanni</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://zinzanni.com/seattle/"></a>
<p>Teatro Zinzanni is a long-running circus dinner theater in Seattle.
Six of us went tonight and enjoyed
a blend of cabaret, circus arts, fine dining, and vaudeville.</p>
<p>The current show, Hotel L'Amour, is ostensibly set in a fine hotel,
where the oc&shy;to&shy;ge&shy;nar&shy;i&shy;an Madame reminisces about her career,
while Caesar the lounge lizard hams it up,
Maestro Voronin brings a puppet girl to life,
one aerialist cavorts around an enormous martini glass,
a juggler dazzles with his ver&shy;sa&shy;til&shy;i&shy;ty,
another aerialist works the straps,
and the soprano trills.
All this while the audience eats a fairly decent meal spread out over three hours.</p>
<p>'Twas enjoyable to be sure and the acts were good
but it <span>&#8230;<a href="/blog/2016/07/08/TeatroZinzanni.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/08/TeatroZinzanni.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-07">07.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/07/ReviewTheTailorOfPanama.html" rel="bookmark canonical">Review: The Tailor of Panama</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://en.wikipedia.org/wiki/The_Tailor_of_Panama_(film)"></a>
<div class="line-block">
<div class="line">Title: The Tailor of Panama</div>
<div class="line">Director: John Boorman</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Released: 2001</div>
<div class="line">Keywords: spy thriller, satire</div>
<div class="line">Watched: 7 July, 2016</div>
</div>
<p>Andy Osnard (Pierce Brosnan) is a disgraced MI6 officer, packed off to Panama,
where he recruits Harry Pendel (Geoffrey Rush), the eponymous tailor.
Osnard is an un&shy;scrupu&shy;lous dirtbag;
Pendel is a fabulist in need of money;
they're made for each other.
Panama is “Casablan&shy;ca without the heroes”
and Pendel spins tall tales that make their way back to London.
Eventually, he outdoes himself, claiming that the Canal is to be sold to the Chinese.
Osnard manages to procure $15 million to fund a revolution,
which he plans to abscond with.</p>
<p>Brosnan plays against <span>&#8230;<a href="/blog/2016/07/07/ReviewTheTailorOfPanama.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/07/ReviewTheTailorOfPanama.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-06">06.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/06/BashBulkRenaming.html" rel="bookmark canonical">Bash: Bulk Renaming</a>
        </h1>
    </header>
    <p>I had to rename several hundred thousand files today.
Thanks to a botched invocation of Im&shy;ageMag&shy;ick,
they all looked like <tt class="docutils literal">unique_pre&shy;fix.png.jpg</tt>,
whereas we simply wanted <tt class="docutils literal">unique_pre&shy;fix.jpg</tt>.</p>
<p>I found a <a class="reference external" href="http://unix.stackexchange.com/a/102653/4060">suitable answer at the Unix Stack&shy;Ex&shy;change</a>.
As one of the many variants of <a class="reference external" href="http://tldp.org/LDP/abs/html/parameter-substitution.html">parameter sub&shy;sti&shy;tu&shy;tion</a>,
Bash supports <tt class="docutils literal">${var/Pattern/Re&shy;place&shy;men&shy;t}</tt>:
“first match of <tt class="docutils literal">Pattern</tt> within <tt class="docutils literal">var</tt> replaced with <tt class="docutils literal">Re&shy;place&shy;ment</tt>.”</p>

<pre class="brush: bash">
for f in *.png.jpg;
do
    mv $f "${f/.png}"
done
</pre>

<p>The target expression could also have been written as <tt class="docutils literal"><span class="pre">&quot;${f/.png.jpg/.jpg}&quot;</span></tt></p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/06/BashBulkRenaming.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-06">06.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/06/Rounding.html" rel="bookmark canonical">Rounding</a>
        </h1>
    </header>
    <p>I recently learned from a <a class="reference external" href="http://stackoverflow.com/questions/10825926/python-3-x-rounding-behavior">Stack&shy;Over&shy;flow question</a>
that the rounding behavior in Python 3.x is different from Python 2.x:</p>
<blockquote>
The round() function rounding strategy and return type have changed.
Exact halfway cases are now rounded to the nearest even result
instead of away from zero.
(For example, round(2.5) now returns 2 rather than 3.)</blockquote>
<p>The “away from zero” rounding strategy is the one that most of us learned at school.
The “nearest even” strategy is also known as “banker’s rounding”.</p>
<p>There are actually <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_floating_point#Rounding_rules">five rounding strategies defined in IEEE 754</a>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%"/>
<col width="11%"/>
<col width="11%"/>
<col width="11%"/>
<col width="11%"/>
</colgroup>
<thead valign="bottom">
<tr><th class="head">Mode / Example Value</th>
<th class="head">+11.5</th>
<th class="head">+12.5</th>
<th class="head">−11.5</th>
<th class="head">−12.5</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>to nearest, ties to even</td>
<td>+12.0</td>
<td>+12.0</td>
<td>−12.0</td>
<td>−12.0</td>
</tr>
<tr><td>to nearest, ties away from zero</td>
<td>+12.0</td>
<td>+13.0</td>
<td>−12.0</td>
<td>−13.0</td>
</tr>
<tr><td>toward 0 (truncation)</td>
<td>+11.0</td>
<td>+12.0</td>
<td>−11.0</td>
<td>−12.0</td>
</tr>
<tr><td>toward +∞ (ceiling)</td>
<td>+12.0</td>
<td>+13.0</td>
<td>−11.0</td>
<td>−12.0</td>
</tr>
<tr><td>toward −∞ (floor)</td>
<td>+11.0</td>
<td>+12.0</td>
<td>−12.0</td>
<td>−13.0</td>
</tr>
</tbody>
</table>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/06/Rounding.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
        <article>
    <header>
        <time datetime="2016-07-05">05.07.2016, 00:00</time>
        <h1>
            <a href="/blog/2016/07/05/ReviewFlashmansLady.html" rel="bookmark canonical">Review: Flashman's Lady</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0452264898/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Flashman's Lady</div>
<div class="line">Author: George MacDonald Fraser</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Plume</div>
<div class="line">Copyright: 1977</div>
<div class="line">ISBN: <a class="reference external" href="http://www.amazon.com/dp/0452264898/?tag=georgvreill-20">0452264898</a></div>
<div class="line">Pages: 330</div>
<div class="line">Keywords: historical fiction, humor</div>
<div class="line">Reading period: 24–29 June, 2016</div>
<div class="line"><a class="reference external" href="https://en.wikipedia.org/wiki/The_Flashman_Papers">Flashman Papers</a> VI: 1842–45</div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Flashman%27s_Lady">Flashman's Lady</a> takes place between the two parts of <a class="reference external" href="/blog/2016/06/26/ReviewRoyalFlash.html">Royal Flash</a>,
making it the third book chrono&shy;log&shy;i&shy;cal&shy;ly of the <a class="reference external" href="https://en.wikipedia.org/wiki/The_Flashman_Papers">Flashman Papers</a>
and the sixth book published.</p>
<p>Flashman and his wife, Elspeth, become friendly with Don Solomon Haslam,
a rich merchant from the East Indies.
Losing a wager to Haslam, who is smitten with Elspeth,
Flashy has to let Haslam take Elspeth and her father on a trip to Singapore.
As things have become hot for him in England, he sails east with them.
Haslam's feelings <span>&#8230;<a href="/blog/2016/07/05/ReviewFlashmansLady.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/07/05/ReviewFlashmansLady.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>
    
    
        <a href="/blog/page/4/" class="page floatright">
        Previous &raquo;
        </a>
    
    
        <a href="/blog/page/2/" class="page floatleft">
        &laquo; Next
        </a>
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/" rel="copyright license">
        <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'georgevreilly'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                 /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
        

  </footer>
</body>
</html>