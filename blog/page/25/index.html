<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link media="all" href="/pygments.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start">blog</a></li>
        <li><a href="/about/" rel="home start">about</a></li>
        <li><a href="/atom/" rel="alternate">atom</a></li>
        <li><a href="/rss/" rel="alternate">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2016-01-19">2016-01-19</time>
        <h1>
            <a href="/blog/2016/01/19/PsqlCouldNotConnectToServer.html" rel="bookmark canonical">psql: could not connect to server</a>
        </h1>
    </header>
    <p>I wanted to clean out my local PostgreSQL database today
so that I could restore a database dump taken on another system,
but every time I ran the <a class="reference external" href="http://postgresguide.com/utilities/psql.html">psql</a> utility, I&nbsp;got:</p>
<pre class="literal-block">
psql: could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket &quot;/tmp/.s.PGSQL.5432&quot;?
</pre>
<p>I tried various things, including restarting Postgres several times,
but nothing helped.
Eventually, I thought to look in <tt class="docutils literal">/usr/local/var/postgres/server.log</tt>,
where I saw several error messages indicating that Postgres 9.5
couldn&#8217;t read data files created with 9.4.
At that point, I realized that during my most recent <tt class="docutils literal">brew update; <span>&#8230;<a href="/blog/2016/01/19/PsqlCouldNotConnectToServer.html" class="continue">continue</a>.</span></tt></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/19/PsqlCouldNotConnectToServer.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-18">2016-01-18</time>
        <h1>
            <a href="/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html" rel="bookmark canonical">Federal Holidays Inadequately Observed</a>
        </h1>
    </header>
    <p>Today is Martin Luther King Day,
a day that honors the legacy of a great American.
It&#8217;s a Federal Holiday, but <a class="reference external" href="http://www.cleveland.com/business/index.ssf/2015/01/only_37_of_employers_give_off.html">only 37% of employers give off Martin Luther King Day</a>.
Apparently, 37% is an all-time high for <span class="caps">MLK</span> Day
and it&#8217;s also higher than the other three holidays
that most Americans don&#8217;t get,
Presidents&#8217; Day, Columbus Day [sic], and Veterans&#8217;&nbsp;Day.</p>
<p>I&#8217;ve worked in America for a quarter century,
but it was only at the first job,
when I was a Brown University employee,
that I got those secondary Federal holidays&nbsp;off.</p>
<p>Not only is America one of the least-generous countries for vacation days,
it&#8217;s also one of the least generous for holidays.
American <span>&#8230;<a href="/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/18/FederalHolidaysInadequatelyObserved.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-17">2016-01-17</time>
        <h1>
            <a href="/blog/2016/01/17/RelativeImportsInAPythonScript.html" rel="bookmark canonical">Relative Imports in a Python Script</a>
        </h1>
    </header>
    <p>Have you ever attempted a <a class="reference external" href="https://www.python.org/dev/peps/pep-0328/">relative import</a> in a Python&nbsp;script?</p>

<pre class="brush: bash">
$ ./foo/bar/script.py some parameters
Traceback (most recent call last):
  File "foo/bar/script.py", line 16, in &lt;module>
    from .quux import find_vcs
ValueError: Attempted relative import in non-package
</pre>

<p>I prefer to use <a class="reference external" href="https://www.python.org/dev/peps/pep-0328/">absolute imports</a> to minimize ambiguity and confusion,
and most of my Python modules begin&nbsp;with:</p>

<pre class="brush: python">
from __future__ import absolute_import, unicode_literals, print_function
</pre>

<p>(Using <a class="reference external" href="https://www.python.org/dev/peps/pep-3112/">uni&shy;code_lit&shy;er&shy;als</a> and <a class="reference external" href="https://www.python.org/dev/peps/pep-3105/">print&shy;_&shy;func&shy;tion</a> makes porting to Python 3&nbsp;easier.)</p>
<p>I recently read the accepted answer to <a class="reference external" href="http://stackoverflow.com/questions/14132789/python-relative-imports-for-the-billionth-time">Python relative imports for the billionth time</a>
and the solution to the above <tt class="docutils literal">ValueError</tt> occurred to me:
Use <tt class="docutils literal">python <span class="pre">-m</span> package</tt> instead:</p>

<pre class="brush: bash">
$ python -m foo.bar.script some parameters
</pre>

<p>(Assuming that package <tt class="docutils literal">foo</tt> exists.)</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/17/RelativeImportsInAPythonScript.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-16">2016-01-16</time>
        <h1>
            <a href="/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html" rel="bookmark canonical">Installing Python 2.7.11 on Ubuntu</a>
        </h1>
    </header>
    <p>We deploy on Ubuntu 14.04, the most recent Long Term Support release.
It comes with Python 2.7.6,
but we need Python 2.7.9+ to get the some important <span class="caps">SSL</span> fixes
and work with a recent version of the <a class="reference external" href="http://docs.python-requests.org/en/latest/">Requests</a>&nbsp;library.</p>
<p>Felix Krull maintains a Personal Package Archive for <a class="reference external" href="https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes-python2.7">Python 2.7 Updates</a>,
which makes it straight&shy;for&shy;ward to upgrade to Python 2.7.11
on supported versions of&nbsp;Ubuntu.</p>

<pre class="brush: bash">
sudo apt-add-repository ppa:fkrull/deadsnakes-python2.7
sudo apt-get update
sudo apt-get install python2.7 python2.7-dev
</pre>

<p>Be sure not to use Felix Krull&#8217;s <a class="reference external" href="https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes">other Python <span class="caps">PPA</span></a> by mistake.
I did that on a colleague&#8217;s machine yesterday.
In our attempts to figure out why we still had Python 2.7.6,
we managed to mess up the machine suf&shy;fi&shy;cient&shy;ly
that <span>&#8230;<a href="/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/16/InstallingPython2_7_11onUbuntu.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-15">2016-01-15</time>
        <h1>
            <a href="/blog/2016/01/15/DVINotConsideredEqual.html" rel="bookmark canonical">DVI Not Considered Equal</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface"></a>
<p>We got a new monitor today for one of our <a class="reference external" href="http://www.metabrite.com/devblog/posts/pairing-git/">pairing work&shy;sta&shy;tions</a>.
At 2560x1600, it was higher resolution than its pre&shy;de&shy;ces&shy;sor.
I dis&shy;con&shy;nect&shy;ed the <a class="reference external" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface"><span class="caps">DVI</span></a> cable from the old monitor,
leaving it connected to one of the video ports on the computer,
and connected it to the new monitor.
All I could see was static and noise on the screen.
After trying a variety of other things,
I eventually thought to use the <span class="caps">DVI</span> cable that came with the new monitor.
It&nbsp;worked!</p>
<p>I had assumed that all <span class="caps">DVI</span> cables were in&shy;ter&shy;change&shy;able.
Reading the <a class="reference external" href="https://en.wikipedia.org/wiki/Digital_Visual_Interface">Wikipedia article</a>, I see that at higher res&shy;o&shy;lu&shy;tions,
<em>dual link</em> is needed.
I hadn&#8217;t known such a thing&nbsp;existed.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/15/DVINotConsideredEqual.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-14">2016-01-14</time>
        <h1>
            <a href="/blog/2016/01/14/PythonBaseClassOrder.html" rel="bookmark canonical">Python Base Class Order</a>
        </h1>
    </header>
    <p>When I declare a derived class that inherits
from both a base class and some mixins,
I am always tempted to&nbsp;write:</p>

<pre class="brush: python">
class Derived(Base, Mixin1, Mixin2):
    "Some class"
</pre>

<p>My reasoning is that <tt class="docutils literal">Derived</tt> is a <tt class="docutils literal">Base</tt>
with some <tt class="docutils literal">Mixin1</tt> and <tt class="docutils literal">Mixin2</tt> goodness sprinkled on.
Generally, that&#8217;s fine.
The exception is when I want one of the mixins to override
a method or attribute that&#8217;s defined in <tt class="docutils literal">Base</tt>.
Because the <a class="reference external" href="http://python-history.blogspot.com/2010/06/method-resolution-order.html">Method Resolution Order</a> is left-to-right,
then <tt class="docutils literal">Base</tt>&#8216;s im&shy;ple&shy;men&shy;ta&shy;tion will always be found&nbsp;first.</p>
<p>To get the desired behavior of the mixin overriding the base,
<tt class="docutils literal">Base</tt> should always appear <em>last</em> in the in&shy;her&shy;i&shy;tance&nbsp;list.</p>

<pre class="brush: python">
from __future__ import print_function

class Useful(object):
    def __init__(self, msg):
 </pre><span>&#8230;<a href="/blog/2016/01/14/PythonBaseClassOrder.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/14/PythonBaseClassOrder.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-13">2016-01-13</time>
        <h1>
            <a href="/blog/2016/01/13/ReviewStarDoc.html" rel="bookmark canonical">Review: Star Doc</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0451457730/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Star Doc</div>
<div class="line">Author: <span class="caps">S.L.</span> Viehl</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Roc</div>
<div class="line">Copyright: 2000</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.amazon.com/dp/0451457730/?tag=georgvreill-20">0451457730</a></div>
<div class="line">Pages: 400</div>
<div class="line">Keywords: <span class="caps">SF</span></div>
<div class="line">Reading period: 11–12 January, 2016</div>
</div>
<p>Dr. Cherijo Grey Veil flees Earth to the remote planet of Kevarzanga-2,
seeking to get away from her dom&shy;i&shy;neer&shy;ing father
and the xenophobic Terrans.
She finds in&shy;ter&shy;est&shy;ing challenges and romance
working with a variety of alien species at the FreeClinic.
Then a plague strikes that kills thousands.
When that&#8217;s resolved, the news comes that her father really, really wants her back,
and is bringing enormous resources to make that&nbsp;happen.</p>
<p>I didn&#8217;t like the book at first, but it grew on me as I read more of it
and I got caught up <span>&#8230;<a href="/blog/2016/01/13/ReviewStarDoc.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/13/ReviewStarDoc.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-12">2016-01-12</time>
        <h1>
            <a href="/blog/2016/01/12/BashGettingAndSettingDefaultValues.html" rel="bookmark canonical">Bash: Getting and Setting Default Values</a>
        </h1>
    </header>
    <p>Bash has some handy syntax for getting and setting default values.
Un&shy;for&shy;tu&shy;nate&shy;ly, it&#8217;s a collection of punc&shy;tu&shy;a&shy;tion characters,
which makes it hard to Google when you can&#8217;t quite remember the&nbsp;syntax.</p>
<p>Getting a default value using <tt class="docutils literal"><span class="pre">${var:-fallback}</span></tt>:</p>

<pre class="brush: bash">
# set $LOGDIR to $1 if $1 has a value; otherwise set $LOGDIR to "/var/log"
LOGDIR="${1:-/var/log}"

# use $VERSION unless it's empty or unset; fall back to extracting someprog's version num
build_version=${VERSION:-$(someprog --version | sed 's/[^0-9.]*\([0-9.]*\).*/\1/')}
</pre>

<p>The colon-dash con&shy;struc&shy;tion is known as the
<a class="reference external" href="https://en.wikipedia.org/wiki/Dog%27s_bollocks_(typography)">dog&#8217;s bollocks</a>
in&nbsp;typography.</p>
<p>Setting a default value, using <tt class="docutils literal"><span class="pre">${var:=fallback}</span></tt>:</p>

<pre class="brush: bash">
$ echo $HOME
/Users/georgevreilly
$ echo ${HOME:=/tmp}
/Users/georgevreilly
$ unset HOME
$ echo ${HOME:=/tmp}
/tmp
$ echo $HOME
/tmp
$ cd; pwd
/tmp
</pre>

<p>Note: <tt class="docutils literal">:=</tt> uses the new value in two cases.
First, when the shell <span>&#8230;<a href="/blog/2016/01/12/BashGettingAndSettingDefaultValues.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/12/BashGettingAndSettingDefaultValues.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-11">2016-01-11</time>
        <h1>
            <a href="/blog/2016/01/11/ReviewBlindJustice.html" rel="bookmark canonical">Review: Blind Justice</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0425150070/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: Blind Justice</div>
<div class="line">Author: Bruce Alexander</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Berkeley</div>
<div class="line">Copyright: 1994</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.amazon.com/dp/0425150070/?tag=georgvreill-20">0425150070</a></div>
<div class="line">Pages: 336</div>
<div class="line">Keywords: historical mystery</div>
<div class="line">Reading period: 10 January, 2016</div>
</div>
<p>The first in a series about <a class="reference external" href="https://en.wikipedia.org/wiki/John_Fielding">Sir John Fielding</a>,
the blind magistrate who founded the Bow Street Runners,
London&#8217;s first pro&shy;fes&shy;sion&shy;al police force in 1749.
Jeremy Proctor, a newly orphaned 13-year-old, is taken under Sir John&#8217;s wing
and assists him in dis&shy;cov&shy;er&shy;ing how the rakish Lord Goodhope
was murdered in a locked&nbsp;room.</p>
<p>Although I figured out the murderer halfway through,
I still enjoyed both the plot and the characters.
Alexander vividly brings Georgian London to&nbsp;life.</p>

    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/11/ReviewBlindJustice.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-01-10">2016-01-10</time>
        <h1>
            <a href="/blog/2016/01/10/ReviewADedicatedMan.html" rel="bookmark canonical">Review: A Dedicated Man</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.amazon.com/dp/0380716453/?tag=georgvreill-20"></a>
<div class="line-block">
<div class="line">Title: A Dedicated Man</div>
<div class="line">Author: Peter Robinson</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Avon</div>
<div class="line">Copyright: 1988</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.amazon.com/dp/0380716453/?tag=georgvreill-20">0380716453</a></div>
<div class="line">Pages: 352</div>
<div class="line">Keywords: police procedural</div>
<div class="line">Reading period: 8–10 January, 2016</div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/A_Dedicated_Man">A Dedicated Man</a> is the second novel in the <a class="reference external" href="https://en.wikipedia.org/wiki/Inspector_Alan_Banks">Inspector Banks</a> series.
A local historian has been murdered in the Yorkshire Dales.
He was well-liked and there seems to be no obvious motives or suspects.
Banks must dig into the dead man&#8217;s past if there are no leads in the&nbsp;present.</p>
<p>Like <a class="reference external" href="/blog/2009/11/21/ReviewTheHangingValley.html">other</a> <a class="reference external" href="/blog/2015/05/31/ReviewBadBoy.html">books</a> in the series,
this is a competent well-written police procedural,
partly seen through Banks&#8217; eyes
and partly through the eyes of some of the locals.
Robinson is an expatriate York&shy;shire&shy;man
with a fondness for his homeland and <span>&#8230;<a href="/blog/2016/01/10/ReviewADedicatedMan.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="http://www.georgevreilly.com/blog/2016/01/10/ReviewADedicatedMan.html#disqus_thread">Comment</a>
        
        
            <p>untagged</p>
        
    </footer>
    <div class="comments"></div>
</article>


    
    
        <a href="/blog/page/26/" class="page floatright">
        Previous &raquo;
        </a>
    
    
        <a href="/blog/page/24/" class="page floatleft">
        &laquo; Next
        </a>
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/" rel="copyright license">
        <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'georgevreilly'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                 /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
        

  </footer>
</body>
</html>
