<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link media="all" href="/pygments.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start">blog</a></li>
        <li><a href="/about/" rel="home start">about</a></li>
        <li><a href="/atom/" rel="alternate">atom</a></li>
        <li><a href="/rss/" rel="alternate">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
        <li><a href="/tags/" rel="contents">tags</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2009-03-25">2009-03-25</time>
        <h1>
            <a href="/blog/2009/03/25/AckBetterThanGrep.html" rel="bookmark canonical">Ack - Better than Grep</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.betterthangrep.com/"></a>
<p>On a Stack­Over­flow question about <a class="reference external" href="http://stackoverflow.com/questions/21725/favorite-gvim-plugins-scripts">favorite Vim plugins</a>, I learned about <a class="reference external" href="http://www.betterthangrep.com/">Ack</a>,
a re­place­ment for grep that’s smarter about searching source trees.</p>
<p>Ack is written in Perl.
The built-in <tt class="docutils literal">:vimgrep</tt> is rather slow.
It seems to have some Vim-specific overhead,
such as creating swap files and executing <tt class="docutils literal">BufRead</tt> autocmds.
Ack is noticeably faster,
though somewhat slower than <span class="caps">GNU</span> grep.</p>
<p>Which would you rather type to search a tree,
ignoring the <tt class="docutils literal">.svn</tt> and <tt class="docutils literal">.git</tt> subtrees?</p>
<pre class="code bash literal-block">
$ ack -i -l foobar
$ grep --exclude<span class="o">=</span><span class="s1">'*.svn*'</span> --exclude<span class="o">=</span><span class="s1">'*.git*'</span> -i -l -r foobar .
</pre>
<p>The ack takes 6 seconds to search 4500 files, while the grep completes in 2.
This does not count the time that I spent trying to figure <span>&#8230;<a href="/blog/2009/03/25/AckBetterThanGrep.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/25/AckBetterThanGrep.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/tech/" rel="tag">tech</a>
                    and
                    
                <a href="/tag/regex/" rel="tag">regex</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-23">2009-03-23</time>
        <h1>
            <a href="/blog/2009/03/23/ExuberantCtagsAndJavaScript.html" rel="bookmark canonical">Exuberant Ctags and JavaScript</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://ctags.sourceforge.net/"></a>
<p><a class="reference external" href="http://ctags.sourceforge.net/">Exuberant Ctags</a> is an essential complement to Vim:
it generates an index of symbol names (tags) for a set of source files.
In Vim, just place the cursor on a function name
and type <tt class="docutils literal"><span class="pre">C-]</span></tt> to go to its definition.</p>
<p>Ctags works well for most of the languages that I deal with,
but falls down badly on modern JavaScript.
Its built-in parser simply doesn’t handle de­c­la­ra­tions like these:</p>
<pre class="code javascript literal-block">
<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">selectors</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">animated</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ...
</span><span class="nx">ajaxSetup</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">settings</span> <span class="p">)</span> <span class="p">{</span>
</pre>
<p>I came across <a class="reference external" href="http://www.unbad.net/blog/ctags-and-relevant-support-for-javascript">Unbad</a>‘s workaround earlier tonight.
His code didn’t work for me, so I hacked on it until it did:</p>
<pre class="literal-block">
--langdef=js
--langmap=js:.js
--regex-js=/([A-Za-z0-9._$]+)[ \t]*[:=][ \t]*\{/\1/,object/
--regex-js=/([A-Za-z0-9._$()]+)[ \t]*[:=][ \t]*function[ \t]*\(/\1/,function/
--regex-js=/function[ \t]+([A-Za-z0-9._$]+)[ \t]*\(([^)])\)/\1/,function/
--regex-js=/([A-Za-z0-9._$]+)[ \t]*[:=][ \t]*\[/\1/,array/
--regex-js=/([^= ]+)[ \t]*=[ \t]*[^"]'[^']*/\1/,string/
--regex-js=/([^= ]+)[ </pre><span>&#8230;<a href="/blog/2009/03/23/ExuberantCtagsAndJavaScript.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/23/ExuberantCtagsAndJavaScript.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/vim/" rel="tag">vim</a>,
                <a href="/tag/javascript/" rel="tag">javascript</a>
                    and
                    
                <a href="/tag/regex/" rel="tag">regex</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-23">2009-03-23</time>
        <h1>
            <a href="/blog/2009/03/23/ReviewNoCountryForOldMen.html" rel="bookmark canonical">Review: No Country for Old Men</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.elliottbaybook.com/product/info.jsp?isbn=033044011X"></a>
<div class="line-block">
<div class="line">Title: No Country for Old Men</div>
<div class="line">Author: Cormac McCarthy</div>
<div class="line">Rating: ★ ★ ★ ★ ½</div>
<div class="line">Publisher: Picador</div>
<div class="line">Copyright: 2005</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.elliottbaybook.com/product/info.jsp?isbn=033044011X">033044011X</a></div>
<div class="line">Pages: 309</div>
<div class="line">Keywords: fiction</div>
<div class="line">Reading period: 20–22 March, 2009</div>
</div>
<p>Rural Texas, 1980.
Llewelyn Moss, out hunting in the middle of nowhere,
finds the remains of a drug buy that went wrong:
dead bodies, shot-up cars, black tar heroin.
And a satchel with two million dollars in cash.
Moss takes the money and runs.
He knows it’s stupid, he knows that people will come after him,
and he does it anyway.</p>
<p>Anton Chigurh is the worst of the killers on his trail.
Relentless, re­morse­less, untroubled by conscience,
and offended by the wrongness of Moss’s act.
He and Moss will be locked <span>&#8230;<a href="/blog/2009/03/23/ReviewNoCountryForOldMen.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/23/ReviewNoCountryForOldMen.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>
                    and
                    
                <a href="/tag/fiction/" rel="tag">fiction</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-21">2009-03-21</time>
        <h1>
            <a href="/blog/2009/03/21/RugbyGrandSlam.html" rel="bookmark canonical">Rugby Grand Slam</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.irishtimes.com/sports/rugby/2009/0321/1224243225558.html"></a>
<p>I grew up hating rugby.
I spent <a class="reference external" href="/blog/2006/02/19/OlympicsRazorthinMargins.html">eleven years</a> at a <a class="reference external" href="http://en.wikipedia.org/wiki/St_Mary&#x27;s_College,_Dublin">rugger-bugger school</a> in Dublin.
I couldn’t stand the game.
I was a small, unathletic child with no interest in sports.
Rugby, even the modified rugby that they teach seven-year-olds,
was violent and unpleasant and involved running around cold, wet fields.
I had a big operation on my feet when I was 10
and I parlayed that into an excuse never to play rugby again.</p>
<p>I can’t remember when I last watched a rugby match,
but it was surely back in the ‘80s,
as I doubt I’ve seen one over the 20 years that I’ve been in the States.</p>
<p>So imagine the im­prob­a­bil­i­ty <span>&#8230;<a href="/blog/2009/03/21/RugbyGrandSlam.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/21/RugbyGrandSlam.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/sports/" rel="tag">sports</a>
                    and
                    
                <a href="/tag/ireland/" rel="tag">ireland</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-20">2009-03-20</time>
        <h1>
            <a href="/blog/2009/03/20/ReviewTheChoirboys.html" rel="bookmark canonical">Review: The Choirboys</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.elliottbaybook.com/product/info.jsp?isbn=0385341601"></a>
<div class="line-block">
<div class="line">Title: The Choirboys</div>
<div class="line">Author: Joseph Wambaugh</div>
<div class="line">Rating: ★ ★ ★ ½</div>
<div class="line">Publisher: Dell</div>
<div class="line">Copyright: 1975</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.elliottbaybook.com/product/info.jsp?isbn=0385341601">0385341601</a></div>
<div class="line">Pages: 387</div>
<div class="line">Keywords: crime, fiction</div>
<div class="line">Reading period: 17–19 March, 2009</div>
</div>
<p>Ten <span class="caps">LAPD</span> patrolmen congregate regularly in MacArthur Park for “choir practice”:
late-night bitchfests, marathon boozing,
and group sex with a couple of cocktail waitresses.</p>
<p><span class="caps">LA</span>’s finest are not exactly fine specimens of humanity,
but then neither are the people they serve,
whom they consider little better than the ones they arrest.
The choirboys include an idealist, a psychopath,
a prankster, and a world-class mooch.
They fight and they drink and they argue:
everything but discuss the things that really bother them.
Wambaugh lampoons the choirboys,
but he reserves his full contempt for their su­per­vi­sors,
martinets <span>&#8230;<a href="/blog/2009/03/20/ReviewTheChoirboys.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/20/ReviewTheChoirboys.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>
                    and
                    
                <a href="/tag/crime/" rel="tag">crime</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-20">2009-03-20</time>
        <h1>
            <a href="/blog/2009/03/20/FlatteningListComprehensionsInPython.html" rel="bookmark canonical">Flattening List Comprehensions in Python</a>
        </h1>
    </header>
    
<p>Python has <a class="reference external" href="http://docs.python.org/tutorial/datastructures.html#list-comprehensions">list com­pre­hen­sions</a>,
syntactic sugar for building lists from an expression.</p>
<pre class="code python literal-block">
<span class="o">>>></span> <span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
</pre>
<p>This doesn’t work so well when the com­pre­hen­sion expression
is itself a list: you end up with a list of lists.</p>
<pre class="code python literal-block">
<span class="o">>>></span> <span class="k">def</span> <span class="nf">gen</span><span class="p">():</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="p">[[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'c'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">]]:</span>
<span class="o">...</span>         <span class="k">yield</span> <span class="n">l</span>
<span class="o">...</span>
<span class="o">>>></span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">()]</span>
<span class="p">[[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'c'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">]]</span>
</pre>
<p>This is ugly. Here’s one way to build a flattened list,
but it’s less elegant than the com­pre­hen­sion.</p>
<pre class="code python literal-block">
<span class="o">>>></span> <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">>>></span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">():</span>
<span class="o">...</span> </pre><span>&#8230;<a href="/blog/2009/03/20/FlatteningListComprehensionsInPython.html" class="continue">continue</a>.</span>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/20/FlatteningListComprehensionsInPython.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/python/" rel="tag">python</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-18">2009-03-18</time>
        <h1>
            <a href="/blog/2009/03/18/CircePart1.html" rel="bookmark canonical">Circe, part 1</a>
        </h1>
    </header>
    
<p>I am co-directing this year’s reading of <em>Ulysses</em> with Helen.
We have decided to do the first half of the chapter with some light cuts.
The Circe character, Bella Cohen, will not be seen until next year,
as we’ll be stopping shortly before she makes her entrance.</p>
<p>We had a readthrough-cum-planning meeting ten days ago at Helen’s
and a rehearsal tonight at my house.
We’ll need several more rehearsals, but it’s starting to come together.</p>
<p>We’ll be reading at the University Bookstore on Saturday, June 13th.</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/18/CircePart1.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/jamesjoyce/" rel="tag">jamesjoyce</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-17">2009-03-17</time>
        <h1>
            <a href="/blog/2009/03/17/ReviewFleshmarketClose.html" rel="bookmark canonical">Review: Fleshmarket Close</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.elliottbaybook.com/product/info.jsp?isbn=0752865633"></a>
<div class="line-block">
<div class="line">Title: Flesh­mar­ket Close</div>
<div class="line">Author: Ian Rankin</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Orion</div>
<div class="line">Copyright: 2004</div>
<div class="line"><span class="caps">ISBN</span>: <a class="reference external" href="http://www.elliottbaybook.com/product/info.jsp?isbn=0752865633">0752865633</a></div>
<div class="line">Pages: 484</div>
<div class="line">Keywords: crime, fiction</div>
<div class="line">Reading period: 14–16 March, 2009</div>
</div>
<p><span class="caps">DI</span> John Rebus in­ves­ti­gates the murder of an illegal immigrant,
who had ties to asylum seekers in Edinburgh.
<span class="caps">DS</span> Siobhan Clarke looks into the dis­ap­pear­ance of a teenaged girl;
soon, the rapist of the girl’s sister is murdered.</p>
<p>Rebus and Siobhan struggle with the uglier side of life in Edinburgh,
notably, racism, latter-day slavery, and the increasing numbers of asylum seekers.
As usual, their personal lives are in a mess:
Rebus drinks too much;
Siobhan falls asleep with a tub of ice cream.</p>
<p>As in other <a class="reference external" href="/blog/2008/12/24/ReviewResurrectionMen.html">Rebus books</a>, the two in­ves­ti­ga­tions end up
being <span>&#8230;<a href="/blog/2009/03/17/ReviewFleshmarketClose.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/17/ReviewFleshmarketClose.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>
                    and
                    
                <a href="/tag/mystery/" rel="tag">mystery</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-17">2009-03-17</time>
        <h1>
            <a href="/blog/2009/03/17/AIGBonuses.html" rel="bookmark canonical">AIG Bonuses</a>
        </h1>
    </header>
    
<p>It takes a special … talent? … chutzpah? … to fuck up the global economic system
to the point where you need four enormous bailouts totaling $170 billion
and then to give your senior people $165 million in bonuses.</p>
<p>It’s like they’re taunting the lynch mob.</p>

    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/17/AIGBonuses.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/politics/" rel="tag">politics</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-03-16">2009-03-16</time>
        <h1>
            <a href="/blog/2009/03/16/BistrotBistro.html" rel="bookmark canonical">Bistrot Bistro</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.bistrotbistro.com/"></a>
<p>We discovered <a class="reference external" href="http://www.bistrotbistro.com/">Bistrot Bistro</a> in Kitsilano on a previous visit to Vancouver.
It’s an agreeable little French restaurant just south of downtown.
Emma suggested that we eat there again for my birthday,
and it was a fine choice.</p>
<p>We ate from the <em>prix fixe</em> menu for $26 apiece.
She had the carrot soup, roast chicken, and raspberry sorbet;
I had the <em>pate de campagne</em>, a peppercorn steak, and a chocolate mousse.
The <em>prix fixe</em> included a sizeable quantity of <em>pommes frites</em>.
We added Brussel sprouts, a baguette with olive tapenade,
and a half-litre of Pinot Gris,
and walked away two hours later, pleasantly sated.</p>
<p>The last time we were there, it was full.
This <span>&#8230;<a href="/blog/2009/03/16/BistrotBistro.html" class="continue">continue</a>.</span></p>
    <footer>
        
            <a class="floatright" href="https://www.georgevreilly.com/blog/2009/03/16/BistrotBistro.html#disqus_thread">Comment</a>
        
        
            <p>tagged as
                <a href="/tag/vancouver/" rel="tag">vancouver</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
    
        <a href="/blog/page/70/" class="page floatright">
        Previous &raquo;
        </a>
    
    
        <a href="/blog/page/68/" class="page floatleft">
        &laquo; Next
        </a>
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="copyright license">
        <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'georgevreilly'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                 /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
        

  </footer>
</body>
</html>
