<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>George V. Reilly</title>
  <link media="all" href="/style.css" rel="stylesheet" />
  <link media="all" href="/pygments.css" rel="stylesheet" />
  <link href="/favicon.ico" rel="shortcut icon" />
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">
  <link href="/" rel="home start" />
  <link href="/atom/" type="application/atom+xml" rel="alternate" title="Atom Feed" />
  <link href="/rss/" type="application/rss+xml" rel="alternate" title="RSS Feed" />
</head>
<body>
  <header>
    <h1><a href="/" rel="home start" class="blogtitle">George V. Reilly</a></h1>
    <nav>
      <ul>
        <li><a href="/blog/" rel="home start" title="George's full blog">blog</a></li>
        <li><a href="/til/" rel="home start" title="Today George Learned">TIL</a></li>
        <li><a href="/about/" rel="home start" title="About George">about</a></li>
        <li><a href="/atom/" rel="alternate" title="Atom Feed">atom</a></li>
        <li><a href="/rss/" rel="alternate" title="RSS Feed">rss</a></li>
        <li><a href="/articles/" rel="contents">articles</a></li>
        <li><a href="/tags/" rel="contents">tags</a></li>
      </ul>
    </nav>
  </header>
    
        <article>
    <header>
        <time datetime="2017-12-26">2017-12-26</time>
        <h1>
            <a href="/blog/2017/12/26/GitDiffTips.html" rel="bookmark canonical">Git Diff Tips</a>
        </h1>
    </header>
    <p>The <a class="reference external" href="https://git-scm.com/docs/git-diff">Git Diff</a> utility is much more functional than the standard command-line <tt class="docutils literal">diff</tt>.</p>
<p>To see changes relative to the staging area (aka the index),
use <tt class="docutils literal">git diff</tt>.</p>
<p>To see <em>staged</em> changes, use <tt class="docutils literal">git diff <span class="pre">--staged</span></tt> (or <tt class="docutils literal"><span class="pre">--cached</span></tt>).</p>
<p>To see changes side by side on a line (where it makes sense),
use the <tt class="docutils literal"><span class="pre">--color-word</span></tt> option.</p>
<p>To compare two arbitrary files in the file system,
use <tt class="docutils literal">git diff <span class="pre">--no-index</span></tt>.</p>
<p>To try some other <a class="reference external" href="https://stackoverflow.com/questions/4045017/what-is-git-diff-patience-for">diff algorithms</a>,
use the <tt class="docutils literal"><span class="pre">--patience</span></tt>, <tt class="docutils literal"><span class="pre">--histogram</span></tt>, or <tt class="docutils literal"><span class="pre">--minimal</span></tt> options.
The default diff algorithm is <tt class="docutils literal"><span class="pre">--myers</span></tt>.</p>
<p>Lots more at the <a class="reference external" href="https://git-scm.com/docs/git-diff">docs</a>.</p>

    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2017-01-15">2017-01-15</time>
        <h1>
            <a href="/blog/2017/01/15/GitFileModes.html" rel="bookmark canonical">Git File Modes</a>
        </h1>
    </header>
    <p>Ever wonder what the six-digit file modes are in a Git commit?
The mysterious <tt class="docutils literal">100644</tt> and <tt class="docutils literal">100755</tt> modes?</p>
<pre class="code diff literal-block">
<span class="gh">diff --git a/foo/bar.py b/foo/bar.py</span><span class="w">
old mode 100644
new mode 100755
</span><span class="gh">index b829edea4..ee6bda024</span><span class="w">
</span><span class="gd">--- a/foo/bar.py</span><span class="w">
</span><span class="gi">+++ b/foo/bar.py</span><span class="w">
</span><span class="gu">&#64;&#64; -1,3 +1,4 &#64;&#64;</span><span class="w">
...</span>
</pre>
<p>I had made <tt class="docutils literal">foo/bar.py</tt> executable by using <tt class="docutils literal">chmod +x</tt>
and adding a <tt class="docutils literal"><span class="pre">#!/usr/bin/env</span> python</tt> shebang.
The last three digits are obviously the same <a class="reference external" href="http://weblogs.asp.net/george_v_reilly/archive/2004/12/13/284388.aspx">octal</a> digits that you can use with <tt class="docutils literal">chmod</tt>.
But what's that <tt class="docutils literal">100</tt> prefix?</p>
<p>The ex&shy;pla&shy;na&shy;tion can be found in a <a class="reference external" href="http://stackoverflow.com/a/8347325/6364">Stack&shy;Over&shy;flow answer</a>:</p>
<pre class="literal-block">
100644₈  regular file (non-executable)  S_IFREG | S_IRUSR | S_IWUSR
                     </pre><span>&#8230;<a href="/blog/2017/01/15/GitFileModes.html" class="continue">continue</a>.</span>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2017-01-05">2017-01-05</time>
        <h1>
            <a href="/blog/2017/01/05/GitPruningUnusedBranches.html" rel="bookmark canonical">Git: pruning unused branches</a>
        </h1>
    </header>
    <p>Ever had a Git repository where there's an over&shy;whelm&shy;ing number of branches,
most of which are surely abandoned?
You run <tt class="docutils literal">git branch <span class="pre">--remote</span></tt> and you see dozens of unfamiliar branches.
Where to begin?</p>
<ul class="simple">
<li>Use <a class="reference external" href="http://stackoverflow.com/a/11144311/6364">git for-each-ref --sort</a> to sort the branches
so that you can identify the oldest branches.</li>
<li>Use <a class="reference external" href="http://stackoverflow.com/a/227026/6364">git branch --remote --merged master</a>
to detect which branches have already been merged into <tt class="docutils literal">master</tt>.
It's likely that these are branches that weren't deleted
after a pull request was merged;
it's usually safe to delete these.</li>
<li><tt class="docutils literal"><span class="pre">--no-merged</span></tt> shows unmerged branches;
these require further in&shy;ves&shy;ti&shy;ga&shy;tion.</li>
</ul>
<p>Here's an example for <a class="reference external" href="https://github.com/cookbrite/flyingcloud">fly&shy;ing&shy;cloud</a>:</p>
<pre class="code console literal-block">
<span class="gp">$ </span>git <span class="k">for</span>-each-ref --sort<span class="o">=</span>-committerdate <span class="se">\
</span>    --format<span class="o">=</span><span class="s1">'%(committerdate:short) %(refname)'</span> refs/heads refs/remotes
<span class="go">2016-12-29 refs/remotes/origin/master
2016-12-29 refs/remotes/origin/HEAD
2016-12-29 refs/heads/master
2016-12-11 </span></pre><span>&#8230;<a href="/blog/2017/01/05/GitPruningUnusedBranches.html" class="continue">continue</a>.</span>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-08-03">2016-08-03</time>
        <h1>
            <a href="/blog/2016/08/03/GitCommitVerbose.html" rel="bookmark canonical">git commit --verbose</a>
        </h1>
    </header>
    <p>I learned today about the <tt class="docutils literal"><span class="pre">-v</span></tt> (<tt class="docutils literal"><span class="pre">--verbose</span></tt>) flag to <tt class="docutils literal">git commit</tt> (<a class="reference external" href="https://git-scm.com/docs/git-commit">git-commit</a>),
which causes a unified diff of what would be committed
to be appended to the end of the commit message.
This diff is not part of the commit.
Set the <tt class="docutils literal">commit.verbose</tt> con&shy;fig&shy;u&shy;ra&shy;tion variable (new in Git 2.9)
to adjust the default behavior.</p>
<p>I also learned about using <tt class="docutils literal">git show</tt> (<a class="reference external" href="https://git-scm.com/docs/git-show">git-show</a>)
to display the diff for the most recent commit.
I had been using <tt class="docutils literal">git log <span class="pre">-1</span> <span class="pre">--patch</span></tt> (<a class="reference external" href="https://git-scm.com/docs/git-log">git-log</a>).
More on <a class="reference external" href="http://stackoverflow.com/questions/25608809/git-log-p-vs-git-show-vs-git-diff">git log -p vs. git show vs. git diff</a>.</p>

    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2016-04-03">2016-04-03</time>
        <h1>
            <a href="/blog/2016/04/03/FindRemoteGitBranchWithChangeToAFile.html" rel="bookmark canonical">Find remote Git branch with change to a file</a>
        </h1>
    </header>
    <p>I needed to track down a remote branch created a couple of months ago
on another machine.
I knew which file had been changed,
but none of the far-too-many remote branches' names rang a bell.</p>
<p>Turns out that using <a class="reference external" href="http://stackoverflow.com/questions/6258440/find-a-git-branch-containing-changes-to-a-given-file">git branch --contains</a> in the right way finds all the relevant branches.</p>
<pre class="code bash literal-block">
git log --all --format<span class="o">=</span>%H FILENAME <span class="se">\
</span>    <span class="p">|</span> <span class="k">while</span> <span class="nb">read</span> f<span class="p">;</span> <span class="k">do</span> git branch --remotes --contains <span class="nv">$f</span><span class="p">;</span> <span class="k">done</span> <span class="se">\
</span>    <span class="p">|</span> sort -u
</pre>
<p>The first line, <tt class="docutils literal">git log <span class="pre">--all</span> <span class="pre">--format=%H</span> FILENAME</tt>,
lists all the <em>hashes</em> for commits that contained changes to <tt class="docutils literal">FILENAME</tt>.
The second finds all the branches that contain those hashes
(I added <span>&#8230;<a href="/blog/2016/04/03/FindRemoteGitBranchWithChangeToAFile.html" class="continue">continue</a>.</span></p>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2015-11-15">2015-11-15</time>
        <h1>
            <a href="/blog/2015/11/15/PairingGit.html" rel="bookmark canonical">Setting Up a Pairing Workstation for Chrome and Git</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="https://www.globalnerdy.com/2008/08/28/pair-programming-chairs/"></a>
<p></p>
<blockquote>
[Pre&shy;vi&shy;ous&shy;ly published at the now defunct <a class="reference external" href="https://web.archive.org/web/20171001220321/http://devblog.metabrite.com/">MetaBrite Dev Blog</a>.]</blockquote>
<p>At MetaBrite, we believe in the power of <a class="reference external" href="http://dsouthard.github.io/CSCI5828_PairProgramming/">pair pro&shy;gram&shy;ming</a>.
We find that pairing helps for col&shy;lab&shy;o&shy;ra&shy;tion on difficult tasks,
for exploring new areas, for knowledge transfer,
and for spurring each other to better solutions.
I find it to be fun, though it can also be exhausting.
It's not ideal for all our work—there's no value in tying up two developers on some rote task that both know well.</p>
<p>Last week, I rebuilt our primary pairing work&shy;sta&shy;tion.
In its previous in&shy;car&shy;na&shy;tion, we had an account for each developer.
Each of us had set up some personal pref&shy;er&shy;ences in our own <span>&#8230;<a href="/blog/2015/11/15/PairingGit.html" class="continue">continue</a>.</span></p>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/pair-programming/" rel="tag">pair programming</a>,
                <a href="/tag/git/" rel="tag">git</a>,
                <a href="/tag/agile/" rel="tag">agile</a>
                    and
                    
                <a href="/tag/metabrite/" rel="tag">metabrite</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-10-19">2009-10-19</time>
        <h1>
            <a href="/blog/2009/10/19/ReviewPragmaticVersionControlUsingGit.html" rel="bookmark canonical">Review: Pragmatic Version Control Using Git</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.elliottbaybook.com/product/info.jsp?isbn=1934356158"></a>
<div class="line-block">
<div class="line">Title: Pragmatic Version Control Using Git</div>
<div class="line">Author: Travis Swicegood</div>
<div class="line">Rating: ★ ★ ★ ★</div>
<div class="line">Publisher: Pragmatic Bookshelf</div>
<div class="line">Copyright: 2008</div>
<div class="line">ISBN: <a class="reference external" href="http://www.elliottbaybook.com/product/info.jsp?isbn=1934356158">1934356158</a></div>
<div class="line">Pages: 179</div>
<div class="line">Keywords: computers</div>
<div class="line">Reading period: 10–18 October, 2009</div>
</div>
<p>As part of my <a class="reference external" href="/blog/2009/10/15/GittingAlong.html">personal conversion to Git</a>, I read Swice&shy;good's Git book.
It's a decent in&shy;tro&shy;duc&shy;tion to Git and you learn how to
do all the basic tasks as well as some more advanced topics.
The examples are clear and well-paced.</p>
<p>I would have liked to see more about col&shy;lab&shy;o&shy;ra&shy;tion and workflow in a DVCS world,
perhaps a few case studies:
how is Git used in the Linux kernel de&shy;vel&shy;op&shy;ment process;
how a small, dis&shy;trib&shy;uted team uses Git and GitHub;
how a collocated team migrates from <span>&#8230;<a href="/blog/2009/10/19/ReviewPragmaticVersionControlUsingGit.html" class="continue">continue</a>.</span></p>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/books/" rel="tag">books</a>,
                <a href="/tag/reviews/" rel="tag">reviews</a>,
                <a href="/tag/programming/" rel="tag">programming</a>
                    and
                    
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2009-10-15">2009-10-15</time>
        <h1>
            <a href="/blog/2009/10/15/GittingAlong.html" rel="bookmark canonical">Gitting Along</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://git-scm.com/"></a>
<p>In the last few weeks, I've switched over to <a class="reference external" href="http://git-scm.com/">Git</a> for most of my version-control needs,
at home and at work, after putting it on the long finger for months.</p>
<p>We continue to use <a class="reference external" href="http://subversion.tigris.org/">Subversion</a> at work,
but I've recently followed Pavel and Eric's lead in using <a class="reference external" href="http://andy.delcambre.com/2008/03/04/git-svn-workflow.html">git-svn</a>.
I work locally on my own private branches and
<tt class="docutils literal">git svn dcommit</tt> and <tt class="docutils literal">git svn rebase</tt> oc&shy;ca&shy;sion&shy;al&shy;ly.
I'm primarily on Windows at work, but I have a Linux box and a Mac Mini too,
while at home, I have a MacBook, a Linux netbook, and a Vista desktop.
I'm using <a class="reference external" href="http://code.google.com/p/msysgit/">msysGit</a>, oc&shy;ca&shy;sion&shy;al&shy;ly sup&shy;ple&shy;ment&shy;ed by <a class="reference external" href="http://code.google.com/p/tortoisegit/">Tor&shy;toise&shy;Git</a> and <a class="reference external" href="http://sourceforge.net/projects/qgit/files/">QGit</a>.
Pavel's on a Mac <span>&#8230;<a href="/blog/2009/10/15/GittingAlong.html" class="continue">continue</a>.</span></p>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
        <article>
    <header>
        <time datetime="2008-11-10">2008-11-10</time>
        <h1>
            <a href="/blog/2008/11/10/DistributedVersionControlSystemsOnWindows.html" rel="bookmark canonical">Distributed Version Control Systems on Windows</a>
        </h1>
    </header>
    <a class="reference external image-reference" href="http://www.infoq.com/articles/dvcs-guide"></a>
<p>At work, I've been ex&shy;per&shy;i&shy;ment&shy;ing with the big three
Dis&shy;trib&shy;uted Version Control Systems,
<a class="reference external" href="http://git.or.cz/">Git</a>, <a class="reference external" href="http://www.selenic.com/mercurial/wiki/">Mercurial</a>, and <a class="reference external" href="http://bazaar-vcs.org/">Bazaar</a>,
on Windows over the last ten days.</p>
<p>Pavel and Eric have been singing the praises of Git and
<a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-svn.html">git-svn</a> on their Mac and Linux boxes re&shy;spec&shy;tive&shy;ly
for the last few months.
Git allows them to check in small changes locally without perturbing the build.
The ease of branching and merging allows them to work in more than one branch
at a time at a lower cost than Subversion did.
Most of our dev team continue to work in Subversion on Windows boxes.
git-svn allows Pavel and Eric to easily in&shy;ter&shy;op&shy;er&shy;ate with the Subversion server.
Pavel <span>&#8230;<a href="/blog/2008/11/10/DistributedVersionControlSystemsOnWindows.html" class="continue">continue</a>.</span></p>
    <footer>
        
        
            <p>tagged as
                <a href="/tag/git/" rel="tag">git</a>
                    and
                    
                <a href="/tag/windows/" rel="tag">windows</a>
                
            </p>
        
    </footer>
    <div class="comments"></div>
</article>


    
    
    
<footer>
    
    
    <p>written by <a href="mailto:george@reilly.org">George V. Reilly</a></p>
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="copyright license">
        <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="by-nc-sa" />
    </a>
    
    

  </footer>
</body>
</html>
